Подключиться к пользователю бд
psql -U postgres

postgresql.conf
Основной файл конфигурации


SHOW config_file;
Чтобы узнать его расположение и версию
У меня в конечном итоге завелась
postgresql:16

Если файл был изменён, то его нужно перечитать
pg_ctl reload
kill -HUP
select pg_reload_conf();

Файл конфигурации управляемый SQL

ALTER SYSTEM
(ALTER SYSTEM SET work_mem TO '16mb';) #В результате выполнения команды значение 16MB записано в файл postgresql.auto.conf:
SET <параметр> TO <значение>; Добавляет или изменяет значение
(SET work_mem TO '24MB';)

Показать изменённое значение
SHOW work_mem;
24MB

ALTER SYSTEM RESET <параметр>; удаляется значение

ALTER SYSTEM RESET ALL; удаляет все строки

Расположение->
всегда в каталоге данных PGDATA

Выставить рабочую память
ALTER SYSTEM SET work_mem TO '16mb';
(смотреть в файле Демонстрации(1))


Как посмотреть максимальное значение памяти за которое нельзя выйти? Нужно найти значение (max_val)
select * from pg_settings where name = 'work_mem'\gx
(Расширенный режим можно установить только для одного запроса, если в конце вместо ";" указать \gx: )


 Столбец context определяет действия, необходимые для применения параметра. Среди возможных значений:

    internal - изменить нельзя, задано при установке,
    postmaster - требуется перезапуск сервера,
    sighup - требуется перечитать файлы конфигурации,
    superuser - суперпользователь может изменить для своего сеанса,
    user - любой пользователь может изменить для своего сеанса.


Чтобы перечитать файл конфигурации
SELECT pg_reload_conf();


последним считывается файл postgresql.auto.conf